
@{
    /**/

    ViewBag.Title = "NewProton";
    //Layout = "~/Views/Shared/_HomeMaster.cshtml";
}

<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link href="~/Content/plcrud.css" rel="stylesheet" />

<link href="~/Content/bootstrap-tagsinput.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-tagsinput.js"></script>
<script src="~/Scripts/plScript.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

@using (Html.BeginForm("Submit", "Proton"))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-md-12">
            List Title:  <input type="text" id="txtListTitle" required class="pl-input form-control" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            Featured Image Url:  <input type="text" id="txtFeaturedImageUrl" required class="pl-input form-control" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-1">
            @*blank container for future*@

        </div>
        <div class="col-md-8">
            <ul class="list-unstyled pl-mainlist">
                <li class="pl-ListItemRow">
                    <div class="table">
                        <div class="row">
                            <div class="col-md-8">
                                <div id="dvItemTitle" class="pl-ItemTitle pl-boxShadow  pl-borderRadius">
                                    <input id="txtItemTitle" type="text" class="pl-ItemTitleInput " placeholder="Item Title" />
                                    <div class="pl-AddLinkWrapper pl-borderRadius" contenteditable="false"> <a id="aAddLink" href="#">+Link</a> </div>
                                </div>
                                <div id="dvLinkTable" class="pl-LinkValue pl-boxShadow">
                                    <div contenteditable="true" id="dvLinkUrl" placeholder="Link url">

                                    </div>
                                </div>
                                <textarea id="dvItemDescription" placeholder="Item Description" class="pl-ItemDescription pl-boxShadow pl-borderRadius"></textarea>
                                @*<div contenteditable="true" id="dvItemDescription" placeholder="Item Description" class="pl-ItemDescription pl-boxShadow pl-borderRadius"></div>*@

                            </div>
                            <div class="col-md-3">
                                <div id="dvImageContainer" class="pl-ImageContainer">
                                    Click to add image
                                </div>
                            </div>
                            <div class="col-md-1 pl-handlecell">
                                <img src="~/Images/move-arrows.svg" class="handle" />
                                <span class="glyphicon glyphicon-move handle"></span>
                            </div>

                        </div>

                    </div>
                </li>
            </ul>
            <div id="dvAddLink" class="pl-row">
                <div class="pl-cell">
                    <a href="javascript:AddNewRow();">+Add</a>
                </div>

            </div>

            <div>
                <input type="button" onclick="PushData()" value="Submit" />
            </div>
            <div>
                <div id="dvImageUrlWrapper">

                    <div id="dvImageUrl" class="pl-ImageInputWrapper">
                        Image Url :  <input id="txtImageUrl" /> <input type="button" value="Submit" id="btnSubmit" />

                    </div>
                </div>
            </div>

        </div>
        <div class="col-md-3">
            <div>
                Category:
                <!--Tags Control-->

                <select id="selCategory" class="pl-select2">
                    <option>Electronics</option>
                    <option>Tech</option>
                    <option>Others</option>
                </select>
            </div>
            <div>
                Sub Category:
                <!--Tags Control-->
                <select id="selSubCategory" class="pl-select2">
                    <option>Electronics</option>
                    <option>Tech</option>
                    <option>Others</option>
                </select>
            </div>
            <div>
                Tags:
                <!--Tags Control-->
                <input type="text" value="" id="txtTags" data-role="tagsinput" />
            </div>
        </div>
    </div>


}

<script>

    function PushData() {

        var info = GetListInfo();
        var url = window.location.href + "/CreateList";
        $.ajax({
            url: url,
            type: 'POST',
            data: info,// { "listInfo": info },
            dataType: "text",
            //contentType: 'application/json; charset=utf-8',
            success: function (returndata, e) {
                console.log("Success");
                alert(returndata);
                console.log(returndata);
                console.log(e);


            },
            error: function (args, e) {
                console.log("Error");
                alert("red" + args);
                console.log(args);
                console.log(args.responseText);
                console.log(e);
            }
        });

    }

</script>

